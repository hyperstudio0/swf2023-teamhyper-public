(self.webpackChunk_minimal_kit_cra_ts=self.webpackChunk_minimal_kit_cra_ts||[]).push([[6259],{51002:function(e,n,r){"use strict";r.d(n,{ZP:function(){return w},NX:function(){return o}});var t=r(29439),i=r(47313);function o(e){var n=(0,i.useState)(-1),r=(0,t.Z)(n,2),o=r[0],s=r[1];return{selected:o,open:o>=0,onOpen:(0,i.useCallback)((function(n){var r=e.findIndex((function(e){return"video"===e.type?e.poster===n:e.src===n}));s(r)}),[e]),onClose:(0,i.useCallback)((function(){s(-1)}),[]),setSelected:s}}var s=r(1413),a=r(45987),l=r(19958),c=r(78355),d=r(49583),u=r(48504),p=r(55841),h=r(86500),x=r(64430),m=r(57829),f=r(35736),b=r(19860),Z=r(17551),g=r(52437),j=r(46417);function v(){var e=(0,b.Z)();return(0,j.jsx)(g.Z,{styles:{".yarl__root":{"--yarl__thumbnails_thumbnail_padding":0,"--yarl__thumbnails_thumbnail_border":"transparent","--yarl__color_backdrop":(0,Z.Fq)(e.palette.grey[900],.9),"--yarl__slide_captions_container_background":(0,Z.Fq)(e.palette.grey[900],.48)},".yarl__slide_title":{fontSize:e.typography.h5.fontSize,fontWeight:e.typography.h5.fontWeight,lineHeight:e.typography.h5.lineHeight},".yarl__slide_description":{fontSize:e.typography.body2.fontSize,fontWeight:e.typography.body2.fontWeight,lineHeight:e.typography.body2.lineHeight},".yarl__button":{filter:"unset"},".yarl__thumbnails_thumbnail":{opacity:.48,"&.yarl__thumbnails_thumbnail_active":{opacity:1}},".yarl__thumbnails_vignette":{"--yarl__thumbnails_vignette_size":0},".yarl__video_container":{backgroundColor:e.palette.common.black}}})}var y=["slides","disabledZoom","disabledVideo","disabledTotal","disabledCaptions","disabledSlideshow","disabledThumbnails","disabledFullscreen","onGetCurrentIndex"],k=24;function w(e){var n=e.slides,r=e.disabledZoom,t=e.disabledVideo,i=e.disabledTotal,o=e.disabledCaptions,c=e.disabledSlideshow,d=e.disabledThumbnails,u=e.disabledFullscreen,p=e.onGetCurrentIndex,h=(0,a.Z)(e,y),x=n?n.length:0;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(v,{}),(0,j.jsx)(l.ZP,(0,s.Z)({slides:n,animation:{swipe:240},carousel:{finite:x<5},controller:{closeOnBackdropClick:!0},plugins:C({disabledZoom:r,disabledVideo:t,disabledCaptions:o,disabledSlideshow:c,disabledThumbnails:d,disabledFullscreen:u}),on:{view:function(e){var n=e.index;p&&p(n)}},toolbar:{buttons:[(0,j.jsx)(S,{totalItems:x,disabledTotal:i},0),"close"]},render:{iconClose:function(){return(0,j.jsx)(f.Z,{width:k,icon:"carbon:close"})},iconZoomIn:function(){return(0,j.jsx)(f.Z,{width:k,icon:"carbon:zoom-in"})},iconZoomOut:function(){return(0,j.jsx)(f.Z,{width:k,icon:"carbon:zoom-out"})},iconSlideshowPlay:function(){return(0,j.jsx)(f.Z,{width:k,icon:"carbon:play"})},iconSlideshowPause:function(){return(0,j.jsx)(f.Z,{width:k,icon:"carbon:pause"})},iconPrev:function(){return(0,j.jsx)(f.Z,{width:k+8,icon:"carbon:chevron-left"})},iconNext:function(){return(0,j.jsx)(f.Z,{width:k+8,icon:"carbon:chevron-right"})},iconExitFullscreen:function(){return(0,j.jsx)(f.Z,{width:k,icon:"carbon:center-to-fit"})},iconEnterFullscreen:function(){return(0,j.jsx)(f.Z,{width:k,icon:"carbon:fit-to-screen"})}}},h))]})}function C(e){var n=e.disabledZoom,r=e.disabledVideo,t=e.disabledCaptions,i=e.disabledSlideshow,o=e.disabledThumbnails,s=e.disabledFullscreen,a=[u.Z,h.Z,p.Z,x.Z,d.Z,c.Z];return o&&(a=a.filter((function(e){return e!==x.Z}))),t&&(a=a.filter((function(e){return e!==u.Z}))),s&&(a=a.filter((function(e){return e!==h.Z}))),i&&(a=a.filter((function(e){return e!==p.Z}))),n&&(a=a.filter((function(e){return e!==c.Z}))),r&&(a=a.filter((function(e){return e!==d.Z}))),a}function S(e){var n=e.totalItems,r=e.disabledTotal,t=(0,l.oc)().currentIndex;return r?null:(0,j.jsxs)(m.Z,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[(0,j.jsxs)("strong",{children:[" ",t+1," "]})," / ",n]})}},81851:function(e,n,r){"use strict";r.d(n,{Z:function(){return g}});var t=r(36459),i=r(1413),o=r(45987),s=(r(79956),r(73874)),a=r(15546),l=r(65242),c=r(99901),d=r(90891),u=r(98880),p=r(12435),h=r(4942),x=r(17592),m=r(17551),f=(0,x.ZP)("div")((function(e){var n,r=e.theme,t="light"===r.palette.mode;return{h1:(0,i.Z)({margin:0},r.typography.h1),h2:(0,i.Z)({margin:0},r.typography.h2),h3:(0,i.Z)({margin:0},r.typography.h3),h4:(0,i.Z)({margin:0},r.typography.h4),h5:(0,i.Z)({margin:0},r.typography.h5),h6:(0,i.Z)({margin:0},r.typography.h6),p:(0,i.Z)({margin:0},r.typography.body1),br:{display:"grid",content:'""',marginTop:"0.75em"},hr:{margin:0,flexShrink:0,borderWidth:0,msFlexNegative:0,WebkitFlexShrink:0,borderStyle:"solid",borderBottomWidth:"thin",borderColor:r.palette.divider},"& ul, & ol":{margin:0,"& li":{lineHeight:2}},"& blockquote":(n={lineHeight:1.5,fontSize:"1.5em",margin:"40px auto",position:"relative",fontFamily:"Georgia, serif",padding:r.spacing(3,3,3,8),color:r.palette.text.secondary,borderRadius:2*r.shape.borderRadius,backgroundColor:r.palette.background.neutral},(0,h.Z)(n,r.breakpoints.up("md"),{width:"80%"}),(0,h.Z)(n,"& p, & span",{marginBottom:0,fontSize:"inherit",fontFamily:"inherit"}),(0,h.Z)(n,"&:before",{left:16,top:-8,display:"block",fontSize:"3em",content:'"\\201C"',position:"absolute",color:r.palette.text.disabled}),n),"& pre, & pre > code":{fontSize:16,overflowX:"auto",whiteSpace:"pre",padding:r.spacing(2),color:r.palette.common.white,borderRadius:r.shape.borderRadius,backgroundColor:t?r.palette.grey[900]:(0,m.Fq)(r.palette.grey[500],.16)},"& code":{fontSize:14,borderRadius:4,whiteSpace:"pre",padding:r.spacing(.2,.5),color:r.palette.warning[t?"darker":"lighter"],backgroundColor:r.palette.warning[t?"lighter":"darker"],"&.hljs":{padding:0,backgroundColor:"transparent"}},table:{width:"100%",borderCollapse:"collapse",border:"1px solid ".concat(r.palette.divider),"th, td":{padding:r.spacing(1),border:"1px solid ".concat(r.palette.divider)},"tbody tr:nth-of-type(odd)":{backgroundColor:r.palette.background.neutral}},input:{"&[type=checkbox]":{position:"relative",cursor:"pointer","&:before":{content:'""',top:-2,left:-2,width:17,height:17,borderRadius:3,position:"absolute",backgroundColor:r.palette.grey[t?300:700]},"&:checked":{"&:before":{backgroundColor:r.palette.primary.main},"&:after":{content:'""',top:1,left:5,width:4,height:9,position:"absolute",transform:"rotate(45deg)",msTransform:"rotate(45deg)",WebkitTransform:"rotate(45deg)",border:"solid ".concat(r.palette.common.white),borderWidth:"0 2px 2px 0"}}}}}})),b=r(46417),Z=["sx"];function g(e){var n=e.sx,r=(0,o.Z)(e,Z);return(0,b.jsx)(f,{sx:n,children:(0,b.jsx)(s.D,(0,i.Z)({rehypePlugins:[a.Z,c.Z,[l.Z,{singleTilde:!1}]],components:j},r))})}var j={img:function(e){var n=Object.assign({},((0,t.Z)(e),e));return(0,b.jsx)(p.Z,(0,i.Z)({alt:n.alt,ratio:"16/9",sx:{borderRadius:2}},n))},a:function(e){var n=Object.assign({},((0,t.Z)(e),e));return n.href.includes("http")?(0,b.jsx)(d.Z,(0,i.Z)({target:"_blank",rel:"noopener"},n)):(0,b.jsx)(d.Z,(0,i.Z)((0,i.Z)({component:u.r,href:n.href},n),{},{children:n.children}))}}},66259:function(e,n,r){"use strict";r.d(n,{lm:function(){return Ie},XJ:function(){return Ue},AE:function(){return Fe},J0:function(){return me}});var t=r(4942),i=r(1413),o=r(29439),s=r(68520),a=r.n(s),l=r(47313),c=r(42832),d=r(71003),u=r(47825),p=r(76025),h=r(98880),x=r(77599),m=r(29047),f=r(26797),b=r(18588),Z=r(35736),g=r(76996),j=r(36622),v=r(14368),y=r(57829),k=r(396),w=r(50738),C=r(31087),S=r(90891),D=r(73428),_=r(97741),T=r(47131),F=r(83213),I=r(78794),O=r(12435),R=r(27480),E=r(34202),P=r(46417);function q(e){var n=e.tour,r=e.onView,t=e.onEdit,i=e.onDelete,o=(0,R.S)(),s=n.id,a=n.name,l=n.price,d=n.images,u=n.bookers,x=n.createdAt,f=n.available,b=n.priceSale,g=n.destination,j=n.ratingNumber,v=(0,E.l2)(f.startDate,f.endDate),k=(0,P.jsxs)(c.Z,{direction:"row",alignItems:"center",sx:{top:8,right:8,zIndex:9,borderRadius:1,position:"absolute",p:"2px 6px 2px 4px",typography:"subtitle2",bgcolor:"warning.lighter"},children:[(0,P.jsx)(Z.Z,{icon:"eva:star-fill",sx:{color:"warning.main",mr:.25}})," ",j]}),w=(0,P.jsxs)(c.Z,{direction:"row",alignItems:"center",sx:{top:8,left:8,zIndex:9,borderRadius:1,bgcolor:"grey.800",position:"absolute",p:"2px 6px 2px 4px",color:"common.white",typography:"subtitle2"},children:[!!b&&(0,P.jsx)(y.Z,{component:"span",sx:{color:"grey.500",mr:.25,textDecoration:"line-through"},children:(0,I.e_)(b)}),(0,I.e_)(l)]}),C=(0,P.jsxs)(c.Z,{spacing:.5,direction:"row",sx:{p:function(e){return e.spacing(1,1,0,1)}},children:[(0,P.jsxs)(c.Z,{flexGrow:1,sx:{position:"relative"},children:[w,k,(0,P.jsx)(O.Z,{alt:d[0],src:d[0],sx:{borderRadius:1,height:164,width:1}})]}),(0,P.jsxs)(c.Z,{spacing:.5,children:[(0,P.jsx)(O.Z,{alt:d[1],src:d[1],ratio:"1/1",sx:{borderRadius:1,width:80}}),(0,P.jsx)(O.Z,{alt:d[2],src:d[2],ratio:"1/1",sx:{borderRadius:1,width:80}})]})]}),q=(0,P.jsx)(F.Z,{sx:{p:function(e){return e.spacing(2.5,2.5,2,2.5)}},primary:"Posted date: ".concat((0,m.zM)(x)),secondary:(0,P.jsx)(S.Z,{component:h.r,href:p.H.dashboard.tour.details(s),color:"inherit",children:a}),primaryTypographyProps:{typography:"caption",color:"text.disabled"},secondaryTypographyProps:{mt:1,noWrap:!0,component:"span",color:"text.primary",typography:"subtitle1"}}),G=(0,P.jsxs)(c.Z,{spacing:1.5,sx:{position:"relative",p:function(e){return e.spacing(0,2.5,2.5,2.5)}},children:[(0,P.jsx)(T.Z,{onClick:o.onOpen,sx:{position:"absolute",bottom:20,right:8},children:(0,P.jsx)(Z.Z,{icon:"eva:more-vertical-fill"})}),[{label:g,icon:(0,P.jsx)(Z.Z,{icon:"mingcute:location-fill",sx:{color:"error.main"}})},{label:v,icon:(0,P.jsx)(Z.Z,{icon:"solar:clock-circle-bold",sx:{color:"info.main"}})},{label:"".concat(u.length," Booked"),icon:(0,P.jsx)(Z.Z,{icon:"solar:users-group-rounded-bold",sx:{color:"primary.main"}})}].map((function(e){return(0,P.jsxs)(c.Z,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"body2"},children:[e.icon,e.label]},e.label)}))]});return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(D.Z,{children:[C,q,G]}),(0,P.jsxs)(R.Z,{open:o.open,onClose:o.onClose,arrow:"right-top",sx:{width:140},children:[(0,P.jsxs)(_.Z,{onClick:function(){o.onClose(),r()},children:[(0,P.jsx)(Z.Z,{icon:"solar:eye-bold"}),"View"]}),(0,P.jsxs)(_.Z,{onClick:function(){o.onClose(),t()},children:[(0,P.jsx)(Z.Z,{icon:"solar:pen-bold"}),"Edit"]}),(0,P.jsxs)(_.Z,{onClick:function(){o.onClose(),i()},sx:{color:"error.main"},children:[(0,P.jsx)(Z.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})]})}function G(e){var n=e.tours,r=(0,C.tv)(),i=(0,l.useCallback)((function(e){r.push(p.H.dashboard.tour.details(e))}),[r]),o=(0,l.useCallback)((function(e){r.push(p.H.dashboard.tour.edit(e))}),[r]),s=(0,l.useCallback)((function(e){console.info("DELETE",e)}),[]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(y.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:n.map((function(e){return(0,P.jsx)(q,{tour:e,onView:function(){return i(e.id)},onEdit:function(){return o(e.id)},onDelete:function(){return s(e.id)}},e.id)}))}),n.length>8&&(0,P.jsx)(k.Z,{count:8,sx:(0,t.Z)({mt:8},"& .".concat(w.Z.ul),{justifyContent:"center"})})]})}function z(e){var n=e.sort,r=e.onSort,t=e.sortOptions,i=(0,R.S)();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(d.Z,{disableRipple:!0,color:"inherit",onClick:i.onOpen,endIcon:(0,P.jsx)(Z.Z,{icon:i.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:["Sort By:",(0,P.jsx)(y.Z,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold",textTransform:"capitalize"},children:n})]}),(0,P.jsx)(R.Z,{open:i.open,onClose:i.onClose,sx:{width:140},children:t.map((function(e){return(0,P.jsx)(_.Z,{selected:e.value===n,onClick:function(){i.onClose(),r(e.value)},children:e.label},e.value)}))})]})}var L=r(83870),W=r.n(L),H=r(46642),A=r.n(H),M=r(63585),N=r(24631),U=r(47605),V=r(41727),B=r(48182),X=r(29339),K=r(74873);function $(e){var n=e.query,r=e.results,o=e.onSearch,s=e.hrefItem,a=(0,C.tv)(),c=function(e){a.push(s(e))},d=function(e){if(n&&"Enter"===e.key){var t=r.filter((function(e){return e.name===n}))[0];c(t.id)}};return(0,P.jsx)(B.Z,{sx:{width:{xs:1,sm:260}},autoHighlight:!0,popupIcon:null,options:r,onInputChange:function(e,n){return o(n)},getOptionLabel:function(e){return e.name},noOptionsText:(0,P.jsx)(K.Z,{query:n,sx:{bgcolor:"unset"}}),isOptionEqualToValue:function(e,n){return e.id===n.id},slotProps:{popper:{placement:"bottom-start",sx:{minWidth:320}},paper:{sx:(0,t.Z)({}," .".concat(X.Z.option),{pl:.75})}},renderInput:function(e){return(0,P.jsx)(N.Z,(0,i.Z)((0,i.Z)({},e),{},{placeholder:"Search...",onKeyUp:d,InputProps:(0,i.Z)((0,i.Z)({},e.InputProps),{},{startAdornment:(0,P.jsx)(V.Z,{position:"start",children:(0,P.jsx)(Z.Z,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})})})}))},renderOption:function(e,n,r){var t=r.inputValue,o=A()(n.name,t),s=W()(n.name,o);return(0,l.createElement)(y.Z,(0,i.Z)((0,i.Z)({component:"li"},e),{},{onClick:function(){return c(n.id)},key:n.id}),(0,P.jsx)(M.Z,{alt:n.name,src:n.images[0],variant:"rounded",sx:{width:48,height:48,flexShrink:0,mr:1.5,borderRadius:1}},n.id),(0,P.jsx)("div",{children:s.map((function(e,n){return(0,P.jsx)(U.Z,{component:"span",color:e.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:e.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:e.text},n)}))},t))}})}var Q=r(93433),J=r(63686),Y=r(44610),ee=r(55050),ne=r(21212),re=r(19536),te=r(61689),ie=r(49969),oe=r(69173),se=r(30127);function ae(e){var n=e.open,r=e.onOpen,t=e.onClose,o=e.filters,s=e.onFilters,a=e.canReset,u=e.onResetFilters,p=e.destinationOptions,h=e.tourGuideOptions,x=e.serviceOptions,m=e.dateError,f=(0,l.useCallback)((function(e){var n=o.services.includes(e)?o.services.filter((function(n){return n!==e})):[].concat((0,Q.Z)(o.services),[e]);s("services",n)}),[o.services,s]),b=(0,l.useCallback)((function(e){s("startDate",e)}),[s]),g=(0,l.useCallback)((function(e){s("endDate",e)}),[s]),j=(0,l.useCallback)((function(e){s("destination",e)}),[s]),v=(0,l.useCallback)((function(e){s("tourGuides",e)}),[s]),y=(0,P.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[(0,P.jsx)(U.Z,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),(0,P.jsx)(te.Z,{title:"Reset",children:(0,P.jsx)(T.Z,{onClick:u,children:(0,P.jsx)(ee.Z,{color:"error",variant:"dot",invisible:!a,children:(0,P.jsx)(Z.Z,{icon:"solar:restart-bold"})})})}),(0,P.jsx)(T.Z,{onClick:t,children:(0,P.jsx)(Z.Z,{icon:"mingcute:close-line"})})]}),k=(0,P.jsxs)(c.Z,{children:[(0,P.jsx)(U.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Durations"}),(0,P.jsxs)(c.Z,{spacing:2.5,children:[(0,P.jsx)(J.M,{label:"Start date",value:o.startDate,onChange:b}),(0,P.jsx)(J.M,{label:"End date",value:o.endDate,onChange:g,slotProps:{textField:{error:m,helperText:m&&"End date must be later than start date"}}})]})]}),w=(0,P.jsxs)(c.Z,{children:[(0,P.jsx)(U.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Destination"}),(0,P.jsx)(B.Z,{multiple:!0,disableCloseOnSelect:!0,options:p.map((function(e){return e.label})),getOptionLabel:function(e){return e},value:o.destination,onChange:function(e,n){return j(n)},renderInput:function(e){return(0,P.jsx)(N.Z,(0,i.Z)({placeholder:"Select Destination"},e))},renderOption:function(e,n){var r=p.filter((function(e){return e.label===n}))[0],t=r.code,o=r.label,s=r.phone;return o?(0,l.createElement)("li",(0,i.Z)((0,i.Z)({},e),{},{key:o}),(0,P.jsx)(Z.Z,{icon:"circle-flags:".concat(t.toLowerCase()),width:28,sx:{mr:1}},o),o," (",t,") +",s):null},renderTags:function(e,n){return e.map((function(e,r){return(0,l.createElement)(Y.Z,(0,i.Z)((0,i.Z)({},n({index:r})),{},{key:e,label:e,size:"small",variant:"soft"}))}))}})]}),C=(0,P.jsxs)(c.Z,{children:[(0,P.jsx)(U.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Tour Guide"}),(0,P.jsx)(B.Z,{multiple:!0,disableCloseOnSelect:!0,options:h,value:o.tourGuides,onChange:function(e,n){return v(n)},getOptionLabel:function(e){return e.name},renderInput:function(e){return(0,P.jsx)(N.Z,(0,i.Z)({placeholder:"Select Tour Guides"},e))},renderOption:function(e,n){return(0,l.createElement)("li",(0,i.Z)((0,i.Z)({},e),{},{key:n.id}),(0,P.jsx)(M.Z,{alt:n.avatarUrl,src:n.avatarUrl,sx:{width:24,height:24,flexShrink:0,mr:1}},n.id),n.name)},renderTags:function(e,n){return e.map((function(e,r){return(0,l.createElement)(Y.Z,(0,i.Z)((0,i.Z)({},n({index:r})),{},{key:e.id,size:"small",variant:"soft",label:e.name,avatar:(0,P.jsx)(M.Z,{alt:e.name,src:e.avatarUrl})}))}))}})]}),S=(0,P.jsxs)(c.Z,{children:[(0,P.jsx)(U.Z,{variant:"subtitle2",sx:{mb:1},children:"Services"}),x.map((function(e){return(0,P.jsx)(oe.Z,{control:(0,P.jsx)(ie.Z,{checked:o.services.includes(e),onClick:function(){return f(e)}}),label:e},e)}))]});return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.Z,{disableRipple:!0,color:"inherit",endIcon:(0,P.jsx)(ee.Z,{color:"error",variant:"dot",invisible:!a,children:(0,P.jsx)(Z.Z,{icon:"ic:round-filter-list"})}),onClick:r,children:"Filters"}),(0,P.jsxs)(ne.ZP,{anchor:"right",open:n,onClose:t,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:280}},children:[y,(0,P.jsx)(re.Z,{}),(0,P.jsx)(se.Z,{sx:{px:2.5,py:3},children:(0,P.jsxs)(c.Z,{spacing:3,children:[k,w,C,S]})})]})]})}var le=r(45987),ce=r(61792),de=["filters","onFilters","canReset","onResetFilters","results"],ue=["label","children","sx"];function pe(e){var n=e.filters,r=e.onFilters,t=e.canReset,o=e.onResetFilters,s=e.results,a=(0,le.Z)(e,de),l=(0,E.l2)(n.startDate,n.endDate);return(0,P.jsxs)(c.Z,(0,i.Z)((0,i.Z)({spacing:1.5},a),{},{children:[(0,P.jsxs)(y.Z,{sx:{typography:"body2"},children:[(0,P.jsx)("strong",{children:s}),(0,P.jsx)(y.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,P.jsxs)(c.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[n.startDate&&n.endDate&&(0,P.jsx)(he,{label:"Available:",children:(0,P.jsx)(Y.Z,{size:"small",label:l,onDelete:function(){r("startDate",null),r("endDate",null)}})}),!!n.services.length&&(0,P.jsx)(he,{label:"Services:",children:n.services.map((function(e){return(0,P.jsx)(Y.Z,{label:e,size:"small",onDelete:function(){return function(e){var t=n.services.filter((function(n){return n!==e}));r("services",t)}(e)}},e)}))}),!!n.tourGuides.length&&(0,P.jsx)(he,{label:"Tour guide:",children:n.tourGuides.map((function(e){return(0,P.jsx)(Y.Z,{size:"small",avatar:(0,P.jsx)(M.Z,{alt:e.name,src:e.avatarUrl}),label:e.name,onDelete:function(){return function(e){var t=n.tourGuides.filter((function(n){return n.name!==e.name}));r("tourGuides",t)}(e)}},e.id)}))}),!!n.destination.length&&(0,P.jsx)(he,{label:"Destination:",children:n.destination.map((function(e){return(0,P.jsx)(Y.Z,{label:e,size:"small",onDelete:function(){return function(e){var t=n.destination.filter((function(n){return n!==e}));r("destination",t)}(e)}},e)}))}),t&&(0,P.jsx)(d.Z,{color:"error",onClick:o,startIcon:(0,P.jsx)(Z.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]}))}function he(e){var n=e.label,r=e.children,t=e.sx,o=(0,le.Z)(e,ue);return(0,P.jsxs)(c.Z,(0,i.Z)((0,i.Z)({component:ce.Z,variant:"outlined",spacing:1,direction:"row",sx:(0,i.Z)({p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed"},t)},o),{},{children:[(0,P.jsx)(y.Z,{component:"span",sx:{typography:"subtitle2"},children:n}),(0,P.jsx)(c.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:r})]}))}var xe={destination:[],tourGuides:[],services:[],startDate:null,endDate:null};function me(){var e=(0,j.K$)(),n=(0,x.k)(),r=(0,l.useState)("latest"),s=(0,o.Z)(r,2),a=s[0],m=s[1],y=(0,l.useState)({query:"",results:[]}),k=(0,o.Z)(y,2),w=k[0],C=k[1],S=(0,l.useState)(xe),D=(0,o.Z)(S,2),_=D[0],T=D[1],F=!(!_.startDate||!_.endDate)&&_.startDate.getTime()>_.endDate.getTime(),I=fe({inputData:f.as,filters:_,sortBy:a,dateError:F}),O=!!_.destination.length||!!_.tourGuides.length||!!_.services.length||!!_.startDate&&!!_.endDate,R=!I.length&&O,E=(0,l.useCallback)((function(e,n){T((function(r){return(0,i.Z)((0,i.Z)({},r),{},(0,t.Z)({},e,n))}))}),[]),q=(0,l.useCallback)((function(e){m(e)}),[]),L=(0,l.useCallback)((function(e){if(C((function(n){return(0,i.Z)((0,i.Z)({},n),{},{query:e})})),e){var n=f.as.filter((function(e){return-1!==e.name.toLowerCase().indexOf(w.query.toLowerCase())}));C((function(e){return(0,i.Z)((0,i.Z)({},e),{},{results:n})}))}}),[w.query]),W=(0,l.useCallback)((function(){T(xe)}),[]),H=(0,P.jsxs)(c.Z,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[(0,P.jsx)($,{query:w.query,results:w.results,onSearch:L,hrefItem:function(e){return p.H.dashboard.tour.details(e)}}),(0,P.jsxs)(c.Z,{direction:"row",spacing:1,flexShrink:0,children:[(0,P.jsx)(ae,{open:n.value,onOpen:n.onTrue,onClose:n.onFalse,filters:_,onFilters:E,canReset:O,onResetFilters:W,serviceOptions:f.Aj.map((function(e){return e.label})),tourGuideOptions:f.$r,destinationOptions:b.h,dateError:F}),(0,P.jsx)(z,{sort:a,onSort:q,sortOptions:f.f3})]})]}),A=(0,P.jsx)(pe,{filters:_,onResetFilters:W,canReset:O,onFilters:E,results:I.length});return(0,P.jsxs)(u.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,P.jsx)(v.Z,{heading:"List",links:[{name:"Dashboard",href:p.H.dashboard.root},{name:"Tour",href:p.H.dashboard.tour.root},{name:"List"}],action:(0,P.jsx)(d.Z,{component:h.r,href:p.H.dashboard.tour.new,variant:"contained",startIcon:(0,P.jsx)(Z.Z,{icon:"mingcute:add-line"}),children:"New Tour"}),sx:{mb:{xs:3,md:5}}}),(0,P.jsxs)(c.Z,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[H,O&&A]}),R&&(0,P.jsx)(g.Z,{title:"No Data",filled:!0,sx:{py:10}}),(0,P.jsx)(G,{tours:I})]})}var fe=function(e){var n=e.inputData,r=e.filters,t=e.sortBy,i=e.dateError,o=r.services,s=r.destination,l=r.startDate,c=r.endDate,d=r.tourGuides.map((function(e){return e.id}));return"latest"===t&&(n=a()(n,["createdAt"],["desc"])),"oldest"===t&&(n=a()(n,["createdAt"],["asc"])),"popular"===t&&(n=a()(n,["totalViews"],["desc"])),i||l&&c&&(n=n.filter((function(e){return(0,m.IO)(e.available.startDate)>=(0,m.IO)(l)&&(0,m.IO)(e.available.endDate)<=(0,m.IO)(c)}))),s.length&&(n=n.filter((function(e){return s.includes(e.destination)}))),d.length&&(n=n.filter((function(e){return e.tourGuides.some((function(e){return d.includes(e.id)}))}))),o.length&&(n=n.filter((function(e){return e.services.some((function(e){return o.includes(e)}))}))),n},be=r(74165),Ze=r(15861),ge=r(21933),je=r(62563),ve=r(75627),ye=r(89708),ke=r(67426),we=r(43717),Ce=r(54641),Se=r(3826),De=r(25921),_e=r(54796);function Te(e){var n=e.currentTour,r=(0,C.tv)(),t=(0,Se.F)("up","md"),o=(0,De.Ds)().enqueueSnackbar,s=ge.Ry().shape({name:ge.Z_().required("Name is required"),content:ge.Z_().required("Content is required"),images:ge.IX().min(1,"Images is required"),tourGuides:ge.IX().min(1,"Must have at least 1 guide"),durations:ge.Z_().required("Duration is required"),tags:ge.IX().min(2,"Must have at least 2 tags"),services:ge.IX().min(2,"Must have at least 2 services"),destination:ge.Z_().required("Destination is required"),available:ge.Ry().shape({startDate:ge.nK().nullable().required("Start date is required"),endDate:ge.nK().required("End date is required").test("date-min","End date must be later than start date",(function(e,n){var r=n.parent;return e.getTime()>r.startDate.getTime()}))})}),a=(0,l.useMemo)((function(){return{name:(null===n||void 0===n?void 0:n.name)||"",content:(null===n||void 0===n?void 0:n.content)||"",images:(null===n||void 0===n?void 0:n.images)||[],tourGuides:(null===n||void 0===n?void 0:n.tourGuides)||[],tags:(null===n||void 0===n?void 0:n.tags)||[],durations:(null===n||void 0===n?void 0:n.durations)||"",destination:(null===n||void 0===n?void 0:n.destination)||"",services:(null===n||void 0===n?void 0:n.services)||[],available:{startDate:(null===n||void 0===n?void 0:n.available.startDate)||null,endDate:(null===n||void 0===n?void 0:n.available.endDate)||null}}}),[n]),d=(0,ve.cI)({resolver:(0,je.X)(s),defaultValues:a}),u=d.watch,h=d.reset,x=d.control,m=d.setValue,g=d.handleSubmit,j=d.formState.isSubmitting,v=u();(0,l.useEffect)((function(){n&&h(a)}),[n,a,h]);var y=g(function(){var e=(0,Ze.Z)((0,be.Z)().mark((function e(t){return(0,be.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:h(),o(n?"Update success!":"Create success!"),r.push(p.H.dashboard.tour.root),console.info("DATA",t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()),k=(0,l.useCallback)((function(e){var n=v.images||[],r=e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}));m("images",[].concat((0,Q.Z)(n),(0,Q.Z)(r)),{shouldValidate:!0})}),[m,v.images]),w=(0,l.useCallback)((function(e){var n,r=v.images&&(null===(n=v.images)||void 0===n?void 0:n.filter((function(n){return n!==e})));m("images",r)}),[m,v.images]),S=(0,l.useCallback)((function(){m("images",[])}),[m]),_=(0,P.jsxs)(P.Fragment,{children:[t&&(0,P.jsxs)(we.Z,{md:4,children:[(0,P.jsx)(U.Z,{variant:"h6",sx:{mb:.5},children:"Details"}),(0,P.jsx)(U.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Title, short description, image..."})]}),(0,P.jsx)(we.Z,{xs:12,md:8,children:(0,P.jsxs)(D.Z,{children:[!t&&(0,P.jsx)(Ce.Z,{title:"Details"}),(0,P.jsxs)(c.Z,{spacing:3,sx:{p:3},children:[(0,P.jsxs)(c.Z,{spacing:1.5,children:[(0,P.jsx)(U.Z,{variant:"subtitle2",children:"Name"}),(0,P.jsx)(_e.au,{name:"name",placeholder:"Ex: Adventure Seekers Expedition..."})]}),(0,P.jsxs)(c.Z,{spacing:1.5,children:[(0,P.jsx)(U.Z,{variant:"subtitle2",children:"Content"}),(0,P.jsx)(_e.LM,{simple:!0,name:"content"})]}),(0,P.jsxs)(c.Z,{spacing:1.5,children:[(0,P.jsx)(U.Z,{variant:"subtitle2",children:"Images"}),(0,P.jsx)(_e.rd,{multiple:!0,thumbnail:!0,name:"images",maxSize:3145728,onDrop:k,onRemove:w,onRemoveAll:S,onUpload:function(){return console.info("ON UPLOAD")}})]})]})]})})]}),T=(0,P.jsxs)(P.Fragment,{children:[t&&(0,P.jsxs)(we.Z,{md:4,children:[(0,P.jsx)(U.Z,{variant:"h6",sx:{mb:.5},children:"Properties"}),(0,P.jsx)(U.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Additional functions and attributes..."})]}),(0,P.jsx)(we.Z,{xs:12,md:8,children:(0,P.jsxs)(D.Z,{children:[!t&&(0,P.jsx)(Ce.Z,{title:"Properties"}),(0,P.jsxs)(c.Z,{spacing:3,sx:{p:3},children:[(0,P.jsxs)(c.Z,{children:[(0,P.jsx)(U.Z,{variant:"subtitle2",sx:{mb:1.5},children:"Tour Guide"}),(0,P.jsx)(_e.Fl,{multiple:!0,name:"tourGuides",placeholder:"+ Tour Guides",disableCloseOnSelect:!0,options:f.$r,getOptionLabel:function(e){return e.name},isOptionEqualToValue:function(e,n){return e.id===n.id},renderOption:function(e,n){return(0,l.createElement)("li",(0,i.Z)((0,i.Z)({},e),{},{key:n.id}),(0,P.jsx)(M.Z,{alt:n.avatarUrl,src:n.avatarUrl,sx:{width:24,height:24,flexShrink:0,mr:1}},n.id),n.name)},renderTags:function(e,n){return e.map((function(e,r){return(0,l.createElement)(Y.Z,(0,i.Z)((0,i.Z)({},n({index:r})),{},{key:e.id,size:"small",variant:"soft",label:e.name,avatar:(0,P.jsx)(M.Z,{alt:e.name,src:e.avatarUrl})}))}))}})]}),(0,P.jsxs)(c.Z,{spacing:1.5,children:[(0,P.jsx)(U.Z,{variant:"subtitle2",children:"Available"}),(0,P.jsxs)(c.Z,{direction:{xs:"column",md:"row"},spacing:2,children:[(0,P.jsx)(ve.Qr,{name:"available.startDate",control:x,render:function(e){var n=e.field,r=e.fieldState.error;return(0,P.jsx)(J.M,(0,i.Z)((0,i.Z)({},n),{},{format:"dd/MM/yyyy",slotProps:{textField:{fullWidth:!0,error:!!r,helperText:null===r||void 0===r?void 0:r.message}}}))}}),(0,P.jsx)(ve.Qr,{name:"available.endDate",control:x,render:function(e){var n=e.field,r=e.fieldState.error;return(0,P.jsx)(J.M,(0,i.Z)((0,i.Z)({},n),{},{format:"dd/MM/yyyy",slotProps:{textField:{fullWidth:!0,error:!!r,helperText:null===r||void 0===r?void 0:r.message}}}))}})]})]}),(0,P.jsxs)(c.Z,{spacing:1.5,children:[(0,P.jsx)(U.Z,{variant:"subtitle2",children:"Duration"}),(0,P.jsx)(_e.au,{name:"durations",placeholder:"Ex: 2 days, 4 days 3 nights..."})]}),(0,P.jsxs)(c.Z,{spacing:1.5,children:[(0,P.jsx)(U.Z,{variant:"subtitle2",children:"Destination"}),(0,P.jsx)(_e.Fl,{name:"destination",placeholder:"+ Destination",options:b.h.map((function(e){return e.label})),getOptionLabel:function(e){return e},renderOption:function(e,n){var r=b.h.filter((function(e){return e.label===n}))[0],t=r.code,o=r.label,s=r.phone;return o?(0,l.createElement)("li",(0,i.Z)((0,i.Z)({},e),{},{key:o}),(0,P.jsx)(Z.Z,{icon:"circle-flags:".concat(t.toLowerCase()),width:28,sx:{mr:1}},o),o," (",t,") +",s):null}})]}),(0,P.jsxs)(c.Z,{spacing:1,children:[(0,P.jsx)(U.Z,{variant:"subtitle2",children:"Services"}),(0,P.jsx)(_e.s2,{name:"services",options:f.Aj,sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"}})]}),(0,P.jsxs)(c.Z,{spacing:1.5,children:[(0,P.jsx)(U.Z,{variant:"subtitle2",children:"Tags"}),(0,P.jsx)(_e.Fl,{name:"tags",placeholder:"+ Tags",multiple:!0,freeSolo:!0,options:f.Qw.map((function(e){return e})),getOptionLabel:function(e){return e},renderOption:function(e,n){return(0,l.createElement)("li",(0,i.Z)((0,i.Z)({},e),{},{key:n}),n)},renderTags:function(e,n){return e.map((function(e,r){return(0,l.createElement)(Y.Z,(0,i.Z)((0,i.Z)({},n({index:r})),{},{key:e,label:e,size:"small",color:"info",variant:"soft"}))}))}})]})]})]})})]}),F=(0,P.jsxs)(P.Fragment,{children:[t&&(0,P.jsx)(we.Z,{md:4}),(0,P.jsxs)(we.Z,{xs:12,md:8,sx:{display:"flex",alignItems:"center"},children:[(0,P.jsx)(oe.Z,{control:(0,P.jsx)(ke.Z,{defaultChecked:!0}),label:"Publish",sx:{flexGrow:1,pl:3}}),(0,P.jsx)(ye.Z,{type:"submit",variant:"contained",size:"large",loading:j,sx:{ml:2},children:n?"Save Changes":"Create Tour"})]})]});return(0,P.jsx)(_e.ZP,{methods:d,onSubmit:y,children:(0,P.jsxs)(we.Z,{container:!0,spacing:3,children:[_,T,F]})})}function Fe(e){var n=e.id,r=(0,j.K$)(),t=f.as.find((function(e){return e.id===n}));return(0,P.jsxs)(u.Z,{maxWidth:!r.themeStretch&&"lg",children:[(0,P.jsx)(v.Z,{heading:"Edit",links:[{name:"Dashboard",href:p.H.dashboard.root},{name:"Tour",href:p.H.dashboard.tour.root},{name:null===t||void 0===t?void 0:t.name}],sx:{mb:{xs:3,md:5}}}),(0,P.jsx)(Te,{currentTour:t})]})}function Ie(){var e=(0,j.K$)();return(0,P.jsxs)(u.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,P.jsx)(v.Z,{heading:"Create a new tour",links:[{name:"Dashboard",href:p.H.dashboard.root},{name:"Tour",href:p.H.dashboard.tour.root},{name:"New tour"}],sx:{mb:{xs:3,md:5}}}),(0,P.jsx)(Te,{})]})}var Oe=r(67176),Re=r(5297),Ee=r(11062),Pe=["publish","backLink","editLink","liveLink","publishOptions","onChangePublish","sx"];function qe(e){var n=e.publish,r=e.backLink,t=e.editLink,o=e.liveLink,s=e.publishOptions,a=e.onChangePublish,l=e.sx,u=(0,le.Z)(e,Pe),p=(0,R.S)();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(c.Z,(0,i.Z)((0,i.Z)({spacing:1.5,direction:"row",sx:(0,i.Z)({mb:{xs:3,md:5}},l)},u),{},{children:[(0,P.jsx)(d.Z,{component:h.r,href:r,startIcon:(0,P.jsx)(Z.Z,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),(0,P.jsx)(y.Z,{sx:{flexGrow:1}}),"published"===n&&(0,P.jsx)(te.Z,{title:"Go Live",children:(0,P.jsx)(T.Z,{component:h.r,href:o,children:(0,P.jsx)(Z.Z,{icon:"eva:external-link-fill"})})}),(0,P.jsx)(te.Z,{title:"Edit",children:(0,P.jsx)(T.Z,{component:h.r,href:t,children:(0,P.jsx)(Z.Z,{icon:"solar:pen-bold"})})}),(0,P.jsx)(ye.Z,{color:"inherit",variant:"contained",loading:!n,loadingIndicator:"Loading\u2026",endIcon:(0,P.jsx)(Z.Z,{icon:"eva:arrow-ios-downward-fill"}),onClick:p.onOpen,sx:{textTransform:"capitalize"},children:n})]})),(0,P.jsx)(R.Z,{open:p.open,onClose:p.onClose,arrow:"top-right",sx:{width:140},children:s.map((function(e){return(0,P.jsxs)(_.Z,{selected:e.value===n,onClick:function(){p.onClose(),a(e.value)},children:["published"===e.value&&(0,P.jsx)(Z.Z,{icon:"eva:cloud-upload-fill"}),"draft"===e.value&&(0,P.jsx)(Z.Z,{icon:"solar:file-text-bold"}),e.label]},e.value)}))})]})}var Ge=r(11925),ze=r(81851),Le=r(41842),We=r(51002);function He(e){var n=e.tour,r=n.name,t=n.images,o=n.content,s=n.services,a=n.tourGuides,l=n.available,d=n.durations,u=n.destination,p=n.ratingNumber,h=t.map((function(e){return{src:e}})),x=(0,We.NX)(h),b=x.selected,g=x.open,j=x.onOpen,v=x.onClose,k=(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(y.Z,{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},sx:{mb:{xs:3,md:5}},children:[(0,P.jsx)(Ge.m.div,{whileHover:"hover",variants:{hover:{opacity:.8}},transition:(0,Le.BN)(),children:(0,P.jsx)(O.Z,{alt:h[0].src,src:h[0].src,ratio:"1/1",onClick:function(){return j(h[0].src)},sx:{borderRadius:2,cursor:"pointer"}})},h[0].src),(0,P.jsx)(y.Z,{gap:1,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",children:h.slice(1,5).map((function(e){return(0,P.jsx)(Ge.m.div,{whileHover:"hover",variants:{hover:{opacity:.8}},transition:(0,Le.BN)(),children:(0,P.jsx)(O.Z,{alt:e.src,src:e.src,ratio:"1/1",onClick:function(){return j(e.src)},sx:{borderRadius:2,cursor:"pointer"}})},e.src)}))})]}),(0,P.jsx)(We.ZP,{index:b,slides:h,open:g,close:v})]}),w=(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(c.Z,{direction:"row",sx:{mb:3},children:[(0,P.jsx)(U.Z,{variant:"h4",sx:{flexGrow:1},children:r}),(0,P.jsx)(T.Z,{children:(0,P.jsx)(Z.Z,{icon:"solar:share-bold"})}),(0,P.jsx)(ie.Z,{defaultChecked:!0,color:"error",icon:(0,P.jsx)(Z.Z,{icon:"solar:heart-outline"}),checkedIcon:(0,P.jsx)(Z.Z,{icon:"solar:heart-bold"})})]}),(0,P.jsxs)(c.Z,{spacing:3,direction:"row",flexWrap:"wrap",alignItems:"center",children:[(0,P.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"body2"},children:[(0,P.jsx)(Z.Z,{icon:"eva:star-fill",sx:{color:"warning.main"}}),(0,P.jsx)(y.Z,{component:"span",sx:{typography:"subtitle2"},children:p}),(0,P.jsx)(S.Z,{sx:{color:"text.secondary"},children:"(234 reviews)"})]}),(0,P.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"body2"},children:[(0,P.jsx)(Z.Z,{icon:"mingcute:location-fill",sx:{color:"error.main"}}),u]}),(0,P.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"subtitle2"},children:[(0,P.jsx)(Z.Z,{icon:"solar:flag-bold",sx:{color:"info.main"}}),(0,P.jsx)(y.Z,{component:"span",sx:{typography:"body2",color:"text.secondary"},children:"Guide by"}),a.map((function(e){return e.name})).join(", ")]})]})]}),C=(0,P.jsx)(y.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:[{label:"Available",value:"".concat((0,m.Mu)(l.startDate)," - ").concat((0,m.Mu)(l.endDate)),icon:(0,P.jsx)(Z.Z,{icon:"solar:calendar-date-bold"})},{label:"Contact name",value:a.map((function(e){return e.phoneNumber})).join(", "),icon:(0,P.jsx)(Z.Z,{icon:"solar:user-rounded-bold"})},{label:"Durations",value:d,icon:(0,P.jsx)(Z.Z,{icon:"solar:clock-circle-bold"})},{label:"Contact phone",value:a.map((function(e){return e.name})).join(", "),icon:(0,P.jsx)(Z.Z,{icon:"solar:phone-bold"})}].map((function(e){return(0,P.jsxs)(c.Z,{spacing:1.5,direction:"row",children:[e.icon,(0,P.jsx)(F.Z,{primary:e.label,secondary:e.value,primaryTypographyProps:{typography:"body2",color:"text.secondary",mb:.5},secondaryTypographyProps:{typography:"subtitle2",color:"text.primary",component:"span"}})]},e.label)}))}),D=(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(ze.Z,{children:o}),(0,P.jsxs)(c.Z,{spacing:2,children:[(0,P.jsx)(U.Z,{variant:"h6",children:" Services"}),(0,P.jsx)(y.Z,{rowGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:f.Aj.map((function(e){return(0,P.jsxs)(c.Z,{spacing:1,direction:"row",alignItems:"center",sx:(0,i.Z)({},s.includes(e.label)&&{color:"text.disabled"}),children:[(0,P.jsx)(Z.Z,{icon:"eva:checkmark-circle-2-outline",sx:(0,i.Z)({color:"primary.main"},s.includes(e.label)&&{color:"text.disabled"})}),e.label]},e.label)}))})]})]});return(0,P.jsxs)(P.Fragment,{children:[k,(0,P.jsxs)(c.Z,{sx:{maxWidth:720,mx:"auto"},children:[w,(0,P.jsx)(re.Z,{sx:{borderStyle:"dashed",my:5}}),C,(0,P.jsx)(re.Z,{sx:{borderStyle:"dashed",my:5}}),D]})]})}var Ae=r(17551);function Me(e){var n=e.bookers,r=(0,l.useState)([]),t=(0,o.Z)(r,2),i=t[0],s=t[1],a=(0,l.useCallback)((function(e){var n=i.includes(e)?i.filter((function(n){return n!==e})):[].concat((0,Q.Z)(i),[e]);s(n)}),[i]);return(0,P.jsx)(y.Z,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:n.map((function(e){return(0,P.jsx)(Ne,{booker:e,selected:i.includes(e.id),onSelected:function(){return a(e.id)}},e.id)}))})}function Ne(e){var n=e.booker,r=e.selected,t=e.onSelected;return(0,P.jsxs)(c.Z,{component:D.Z,direction:"row",spacing:2,sx:{p:3},children:[(0,P.jsx)(M.Z,{alt:n.name,src:n.avatarUrl,sx:{width:48,height:48}}),(0,P.jsxs)(c.Z,{spacing:2,flexGrow:1,children:[(0,P.jsx)(F.Z,{primary:n.name,secondary:(0,P.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:.5,children:[(0,P.jsx)(Z.Z,{icon:"solar:users-group-rounded-bold",width:16}),n.guests," guests"]}),secondaryTypographyProps:{mt:.5,component:"span",typography:"caption",color:"text.disabled"}}),(0,P.jsxs)(c.Z,{spacing:1,direction:"row",children:[(0,P.jsx)(T.Z,{size:"small",color:"error",sx:{borderRadius:1,bgcolor:function(e){return(0,Ae.Fq)(e.palette.error.main,.08)},"&:hover":{bgcolor:function(e){return(0,Ae.Fq)(e.palette.error.main,.16)}}},children:(0,P.jsx)(Z.Z,{width:18,icon:"solar:phone-bold"})}),(0,P.jsx)(T.Z,{size:"small",color:"info",sx:{borderRadius:1,bgcolor:function(e){return(0,Ae.Fq)(e.palette.info.main,.08)},"&:hover":{bgcolor:function(e){return(0,Ae.Fq)(e.palette.info.main,.16)}}},children:(0,P.jsx)(Z.Z,{width:18,icon:"solar:chat-round-dots-bold"})}),(0,P.jsx)(T.Z,{size:"small",color:"primary",sx:{borderRadius:1,bgcolor:function(e){return(0,Ae.Fq)(e.palette.primary.main,.08)},"&:hover":{bgcolor:function(e){return(0,Ae.Fq)(e.palette.primary.main,.16)}}},children:(0,P.jsx)(Z.Z,{width:18,icon:"fluent:mail-24-filled"})})]})]}),(0,P.jsx)(d.Z,{size:"small",variant:r?"text":"outlined",color:r?"success":"inherit",startIcon:r?(0,P.jsx)(Z.Z,{width:18,icon:"eva:checkmark-fill",sx:{mr:-.75}}):null,onClick:t,children:r?"Approved":"Approve"})]},n.id)}function Ue(e){var n=e.id,r=(0,j.K$)(),t=f.as.filter((function(e){return e.id===n}))[0],i=(0,l.useState)(null===t||void 0===t?void 0:t.publish),s=(0,o.Z)(i,2),a=s[0],c=s[1],d=(0,l.useState)("content"),h=(0,o.Z)(d,2),x=h[0],m=h[1],b=(0,l.useCallback)((function(e,n){m(n)}),[]),Z=(0,l.useCallback)((function(e){c(e)}),[]),g=(0,P.jsx)(Re.Z,{value:x,onChange:b,sx:{mb:{xs:3,md:5}},children:f.bY.map((function(e){return(0,P.jsx)(Oe.Z,{iconPosition:"end",value:e.value,label:e.label,icon:"bookers"===e.value?(0,P.jsx)(Ee.Z,{variant:"filled",children:null===t||void 0===t?void 0:t.bookers.length}):""},e.value)}))});return(0,P.jsxs)(u.Z,{maxWidth:!r.themeStretch&&"lg",children:[(0,P.jsx)(qe,{backLink:p.H.dashboard.tour.root,editLink:p.H.dashboard.tour.edit("".concat(null===t||void 0===t?void 0:t.id)),liveLink:"#",publish:a||"",onChangePublish:Z,publishOptions:f.ie}),g,"content"===x&&(0,P.jsx)(He,{tour:t}),"bookers"===x&&(0,P.jsx)(Me,{bookers:null===t||void 0===t?void 0:t.bookers})]})}},71839:function(e,n,r){var t=r(2785),i=r(2114);e.exports=function(e,n){var r=-1,o=i(e)?Array(e.length):[];return t(e,(function(e,t,i){o[++r]=n(e,t,i)})),o}},89318:function(e,n,r){var t=r(95434),i=r(30207),o=r(81186),s=r(71839),a=r(40078),l=r(36902),c=r(49674),d=r(19908),u=r(95585);e.exports=function(e,n,r){n=n.length?t(n,(function(e){return u(e)?function(n){return i(n,1===e.length?e[0]:e)}:e})):[d];var p=-1;n=t(n,l(o));var h=s(e,(function(e,r,i){return{criteria:t(n,(function(n){return n(e)})),index:++p,value:e}}));return a(h,(function(e,n){return c(e,n,r)}))}},40078:function(e){e.exports=function(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}},85445:function(e,n,r){var t=r(72060);e.exports=function(e,n){if(e!==n){var r=void 0!==e,i=null===e,o=e===e,s=t(e),a=void 0!==n,l=null===n,c=n===n,d=t(n);if(!l&&!d&&!s&&e>n||s&&a&&c&&!l&&!d||i&&a&&c||!r&&c||!o)return 1;if(!i&&!s&&!d&&e<n||d&&r&&o&&!i&&!s||l&&r&&o||!a&&o||!c)return-1}return 0}},49674:function(e,n,r){var t=r(85445);e.exports=function(e,n,r){for(var i=-1,o=e.criteria,s=n.criteria,a=o.length,l=r.length;++i<a;){var c=t(o[i],s[i]);if(c)return i>=l?c:c*("desc"==r[i]?-1:1)}return e.index-n.index}},68520:function(e,n,r){var t=r(89318),i=r(95585);e.exports=function(e,n,r,o){return null==e?[]:(i(n)||(n=null==n?[]:[n]),i(r=o?void 0:r)||(r=null==r?[]:[r]),t(e,n,r))}}}]);